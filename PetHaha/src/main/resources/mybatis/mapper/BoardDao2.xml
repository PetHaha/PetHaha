<?xml version="1.0" encoding="UTF-8"?>


<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="pethaha.dao.IBoardDao2">
	<resultMap id="boardMap2" type="java.util.HashMap"></resultMap>
	
	<select id="PboardView" statementType="CALLABLE" parameterType="java.util.HashMap">
		{CALL PboardView(#{ BNUM },#{ ref_cursor, mode=OUT, jdbcType=CURSOR, javaType=ResultSet, resultMap=boardMap2 })}
	</select>
	
	<select id="PgetReplyList" statementType="CALLABLE" parameterType="java.util.HashMap">
		{CALL PgetReplyList(#{ BNUM },#{ ref_cursor, mode=OUT, jdbcType=CURSOR, javaType=ResultSet, resultMap=boardMap2 })}
	</select>
	
	<insert id="PReplyWrite" statementType="CALLABLE" parameterType="pethaha.dto.ReplyVO">
		{CALL PReplyWrite(#{RWRITER},#{BNUM},#{ID},#{NICK},#{RCONTENT})}
	</insert>
	
	<delete id="PReplydelete" parameterType="String">
		delete from preply where RNUM=#{rNUM}
	</delete>
	
	
	<update id="readCountPlus" parameterType="String">
		update pboard set views=views+1 where bnum=#{bnum}
	</update>
	
	<update id="PReplyCountUpdate" parameterType="String">
		update pboard set replycnt=replycnt+1 where bnum=#{bnum}
	</update>
	
	<select id="PLikeOX" statementType="CALLABLE" parameterType="java.util.HashMap">
		{CALL PLikeOX(#{ ID},#{BNUM},#{ ref_cursor, mode=OUT, jdbcType=CURSOR, javaType=ResultSet, resultMap=boardMap2 })}
	</select>
	
	<insert id="PThumbsUp" statementType="CALLABLE" parameterType="java.util.HashMap">
		{CALL PThumbsUp(#{ ID},#{BNUM},#{ NICK })}
	</insert>
	
	
	
	
	
	
	
	
</mapper>